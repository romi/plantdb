
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="lang:clipboard.copy" content="Copy to clipboard">
  <meta name="lang:clipboard.copied" content="Copied to clipboard">
  <meta name="lang:search.language" content="en">
  <meta name="lang:search.pipeline.stopwords" content="True">
  <meta name="lang:search.pipeline.trimmer" content="True">
  <meta name="lang:search.result.none" content="No matching documents">
  <meta name="lang:search.result.one" content="1 matching document">
  <meta name="lang:search.result.other" content="# matching documents">
  <meta name="lang:search.tokenizer" content="[\s\-]+">

  
    <link href="https://fonts.gstatic.com/" rel="preconnect" crossorigin>
    <link href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,500,700|Roboto:300,400,400i,700&display=fallback" rel="stylesheet">

    <style>
      body,
      input {
        font-family: "Roboto", "Helvetica Neue", Helvetica, Arial, sans-serif
      }

      code,
      kbd,
      pre {
        font-family: "Roboto Mono", "Courier New", Courier, monospace
      }
    </style>
  

  <link rel="stylesheet" href="_static/stylesheets/application.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-palette.css"/>
  <link rel="stylesheet" href="_static/stylesheets/application-fixes.css"/>
  
  <link rel="stylesheet" href="_static/fonts/material-icons.css"/>
  
  <meta name="theme-color" content="#3f51b5">
  <script src="_static/javascripts/modernizr.js"></script>
  
  
  
    <title>plantDB REST API &#8212; plantdb  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/material.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    <link rel="stylesheet" type="text/css" href="_static/_static/css/extra.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <link rel="shortcut icon" href="_static/ROMI_favicon_green.png"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="plantdb.rest_api.Mesh" href="reference/autosummary/plantdb.rest_api.Mesh.html" />
  
   

  </head>
  <body dir=ltr
        data-md-color-primary=green data-md-color-accent=blue>
  
  <svg class="md-svg">
    <defs data-children-count="0">
      
      <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
      
    </defs>
  </svg>
  
  <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer">
  <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search">
  <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
  <a href="#webapi" tabindex="1" class="md-skip"> Skip to content </a>
  <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex navheader">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="index.html" title="plantdb  documentation"
           class="md-header-nav__button md-logo">
          
              <img src="_static/logo.svg" height="26"
                   alt="plantdb logo">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          <span class="md-header-nav__topic">plantdb</span>
          <span class="md-header-nav__topic"> plantDB REST API </span>
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
        
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" action="search.html" method="get" name="search">
      <input type="text" class="md-search__input" name="q" placeholder=""Search""
             autocapitalize="off" autocomplete="off" spellcheck="false"
             data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>

      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            <a href="https://github.com/romi/plantdb/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
          </div>
        </div>
      
      
  
  <script src="_static/javascripts/version_dropdown.js"></script>
  <script>
    var json_loc = ""versions.json"",
        target_loc = "../",
        text = "Versions";
    $( document ).ready( add_version_dropdown(json_loc, target_loc, text));
  </script>
  

    </div>
  </nav>
</header>

  
  <div class="md-container">
    
    
    
  <nav class="md-tabs" data-md-component="tabs">
    <div class="md-tabs__inner md-grid">
      <ul class="md-tabs__list">
          <li class="md-tabs__item"><a href="index.html" class="md-tabs__link">plantdb</a></li>
      </ul>
    </div>
  </nav>
    <main class="md-main">
      <div class="md-main__inner md-grid" data-md-component="container">
        
          <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="index.html" title="plantdb documentation" class="md-nav__button md-logo">
      
        <img src="_static/logo.svg" alt=" logo" width="48" height="48">
      
    </a>
    <a href="index.html"
       title="plantdb documentation">plantdb</a>
  </label>
    <div class="md-nav__source">
      <a href="https://github.com/romi/plantdb/" title="Go to repository" class="md-source" data-md-source="github">

    <div class="md-source__icon">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 24 24" width="28" height="28">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    
  </div>
</a>
    </div>
  
  

</nav>
              </div>
            </div>
          </div>
          <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
            <div class="md-sidebar__scrollwrap">
              <div class="md-sidebar__inner">
                
<nav class="md-nav md-nav--secondary">
    <label class="md-nav__title" for="__toc">"Contents"</label>
  <ul class="md-nav__list" data-md-scrollfix="">
        <li class="md-nav__item"><a href="#webapi--page-root" class="md-nav__link">plantDB REST API</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#rest-urls" class="md-nav__link">REST URLs</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#scans" class="md-nav__link">/scans</a>
        </li>
        <li class="md-nav__item"><a href="#scans-scan-id" class="md-nav__link">/scans/<scan_id></a>
        </li>
        <li class="md-nav__item"><a href="#files-path" class="md-nav__link">/files/<path></path></a>
        </li>
        <li class="md-nav__item"><a href="#archive-scan-id" class="md-nav__link">/archive/<scan_id></a>
        </li>
        <li class="md-nav__item"><a href="#image-scan-id-fileset-id-file-id" class="md-nav__link">/image/<scan_id>/<fileset_id>/<file_id></a>
        </li>
        <li class="md-nav__item"><a href="#pointcloud-scan-id-fileset-id-file-id" class="md-nav__link">/pointcloud/<scan_id>/<fileset_id>/<file_id></a>
        </li>
        <li class="md-nav__item"><a href="#pcgroundtruth-scan-id-fileset-id-file-id" class="md-nav__link">/pcGroundTruth/<scan_id>/<fileset_id>/<file_id></a>
        </li>
        <li class="md-nav__item"><a href="#mesh-scan-id-fileset-id-file-id" class="md-nav__link">/mesh/<scan_id>/<fileset_id>/<file_id></a>
        </li>
        <li class="md-nav__item"><a href="#refresh" class="md-nav__link">/refresh</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#scan-summary" class="md-nav__link">Scan summary</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#id" class="md-nav__link">id</a>
        </li>
        <li class="md-nav__item"><a href="#metadata" class="md-nav__link">metadata</a>
        </li>
        <li class="md-nav__item"><a href="#thumbnailuri" class="md-nav__link">thumbnailUri</a>
        </li>
        <li class="md-nav__item"><a href="#has" class="md-nav__link">has*</a>
        </li></ul>
            </nav>
        </li>
        <li class="md-nav__item"><a href="#scan-detailed-summary" class="md-nav__link">Scan detailed summary</a><nav class="md-nav">
              <ul class="md-nav__list">
        <li class="md-nav__item"><a href="#camera-model" class="md-nav__link">Camera model</a>
        </li>
        <li class="md-nav__item"><a href="#camera-poses" class="md-nav__link">Camera poses</a>
        </li></ul>
            </nav>
        </li></ul>
            </nav>
        </li>
    
<li class="md-nav__item"><a class="md-nav__extra_link" href="_sources/webapi.md.txt">Show Source</a> </li>

<li id="searchbox" class="md-nav__item"></li>

  </ul>
</nav>
              </div>
            </div>
          </div>
        
        <div class="md-content">
          <article class="md-content__inner md-typeset" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="plantdb-rest-api">
<h1 id="webapi--page-root">plantDB REST API<a class="headerlink" href="#webapi--page-root" title="Permalink to this headline">¶</a></h1>
<p>Hereafter we introduce the URLS to use to communicate via the REST API.
The Python implementation is done in the <code class="docutils literal notranslate"><span class="pre">plantdb.rest_api</span></code> module and the CLI to start a Flask server is in <code class="docutils literal notranslate"><span class="pre">fsdb_rest_api</span></code>.</p>
<section id="rest-urls">
<h2 id="rest-urls">REST URLs<a class="headerlink" href="#rest-urls" title="Permalink to this headline">¶</a></h2>
<section id="scans">
<h3 id="scans">/scans<a class="headerlink" href="#scans" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/scans</span></code> URL:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.ScanList</span></code></span></a></p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">filterQuery</span></code></p></li>
<li><p>Returns: a JSON compliant list of dictionaries.</p></li>
<li><p>Example:</p>
<ul>
<li><p>Get all scans:
<a class="reference external" href="http://127.0.0.1:5000/scans">http://127.0.0.1:5000/scans</a></p></li>
<li><p>Search for “arabidopsis” in metadata:
<a class="reference external" href="http://127.0.0.1:5000/scans?filterQuery=arabidopsis">http://127.0.0.1:5000/scans?filterQuery=arabidopsis</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="scans-scan-id">
<h3 id="scans-scan-id">/scans/&lt;scan_id&gt;<a class="headerlink" href="#scans-scan-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/scans/&lt;scan_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.Scan</span></code></span></a></p></li>
<li><p>Arguments: none</p></li>
<li><p>Returns: a JSON compliant list of dictionaries with detailed information about the scan dataset</p></li>
<li><p>Examples with the test database:</p>
<ul>
<li><p>Get scan info for the <code class="docutils literal notranslate"><span class="pre">"real_plant_analyzed"</span></code> dataset:
<a class="reference external" href="http://127.0.0.1:5000/scans/real_plant_analyzed">http://127.0.0.1:5000/scans/real_plant_analyzed</a></p></li>
<li><p>Get scan info for the <code class="docutils literal notranslate"><span class="pre">"virtual_plant_analyzed"</span></code> dataset:
<a class="reference external" href="http://127.0.0.1:5000/scans/virtual_plant_analyzed">http://127.0.0.1:5000/scans/virtual_plant_analyzed</a></p></li>
</ul>
</li>
</ul>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>This requires the <cite>Colmap</cite> task!
In other words it will fail (response <cite>500</cite>) if this task is missing from the dataset.</p>
</div>
</section>
<section id="files-path">
<h3 id="files-path">/files/<path><a class="headerlink" href="#files-path" title="Permalink to this headline">¶</a></path></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/files/&lt;path&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.File</span></code></span></a></p></li>
<li><p>Arguments: none</p></li>
<li><p>Returns: The content of the file.</p></li>
<li><p>Examples  <code class="docutils literal notranslate"><span class="pre">real_plant_analyzed</span></code> dataset (from the test database):</p>
<ul>
<li><p>Get the first image of the scan (<code class="docutils literal notranslate"><span class="pre">00000_rgb</span></code>):
<a class="reference external" href="http://127.0.0.1:5000/files/real_plant_analyzed/images/00000_rgb.jpg">http://127.0.0.1:5000/files/real_plant_analyzed/images/00000_rgb.jpg</a></p></li>
<li><p>Get the first mask image of the scan (<code class="docutils literal notranslate"><span class="pre">00000_rgb</span></code>):
<a class="reference external" href="http://127.0.0.1:5000/files/real_plant_analyzed/Masks_1__0__1__0____channel____rgb_5619aa428d/00000_rgb.png">http://127.0.0.1:5000/files/real_plant_analyzed/Masks_1__0__1__0____channel____rgb_5619aa428d/00000_rgb.png</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="archive-scan-id">
<h3 id="archive-scan-id">/archive/&lt;scan_id&gt;<a class="headerlink" href="#archive-scan-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/archive/&lt;scan_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.Archive</span></code></span></a></p></li>
<li><p>Arguments: none</p></li>
<li><p>Returns: A zip file containing the dataset.</p></li>
<li><p>Examples:</p>
<ul>
<li><p>Get <code class="docutils literal notranslate"><span class="pre">real_plant_analyzed</span></code> archive:
<a class="reference external" href="http://127.0.0.1:5000/archive/real_plant_analyzed/">http://127.0.0.1:5000/archive/real_plant_analyzed/</a></p></li>
<li><p>Get <code class="docutils literal notranslate"><span class="pre">virtual_plant_analyzed</span></code> archive:
<a class="reference external" href="http://127.0.0.1:5000/archive/virtual_plant_analyzed/">http://127.0.0.1:5000/archive/virtual_plant_analyzed/</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="image-scan-id-fileset-id-file-id">
<h3 id="image-scan-id-fileset-id-file-id">/image/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;<a class="headerlink" href="#image-scan-id-fileset-id-file-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/image/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.Image</span></code></span></a></p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">size</span></code> in {<code class="docutils literal notranslate"><span class="pre">orig</span></code>, <code class="docutils literal notranslate"><span class="pre">large</span></code>, <code class="docutils literal notranslate"><span class="pre">thumb</span></code>} to control the max size (width or height) of the image to return.</p></li>
<li><p>Returns: The image file, resized by default.</p></li>
<li><p>Examples with the <code class="docutils literal notranslate"><span class="pre">real_plant_analyzed</span></code> dataset (from the test database) and the first image of the scan (<code class="docutils literal notranslate"><span class="pre">00000_rgb</span></code>):</p>
<ul>
<li><p>Get the preview image:
<a class="reference external" href="http://127.0.0.1:5000/image/real_plant_analyzed/images/00000_rgb">http://127.0.0.1:5000/image/real_plant_analyzed/images/00000_rgb</a></p></li>
<li><p>Get the original image:
<a class="reference external" href="http://127.0.0.1:5000/image/real_plant_analyzed/images/00000_rgb?size=orig">http://127.0.0.1:5000/image/real_plant_analyzed/images/00000_rgb?size=orig</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="pointcloud-scan-id-fileset-id-file-id">
<h3 id="pointcloud-scan-id-fileset-id-file-id">/pointcloud/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;<a class="headerlink" href="#pointcloud-scan-id-fileset-id-file-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/pointcloud/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.PointCloud</span></code></span></a></p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">size</span></code> in {<code class="docutils literal notranslate"><span class="pre">orig</span></code>, <code class="docutils literal notranslate"><span class="pre">preview</span></code>} or a <code class="docutils literal notranslate"><span class="pre">float</span></code> to control the voxel-size of the pointcloud to returns.</p></li>
<li><p>Returns: The point cloud file, preview size by default.</p></li>
<li><p>Examples with the <code class="docutils literal notranslate"><span class="pre">real_plant_analyzed</span></code> dataset:</p>
<ul>
<li><p>Get the preview point cloud:
<a class="reference external" href="http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud">http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud</a></p></li>
<li><p>Get the original point cloud:
<a class="reference external" href="http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud?size=orig">http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud?size=orig</a></p></li>
<li><p>Get the point cloud with a voxel size of <code class="docutils literal notranslate"><span class="pre">2.3</span></code>:
<a class="reference external" href="http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud?size=2.3">http://127.0.0.1:5000/pointcloud/real_plant_analyzed/PointCloud_1_0_1_0_10_0_7ee836e5a9/PointCloud?size=2.3</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="pcgroundtruth-scan-id-fileset-id-file-id">
<h3 id="pcgroundtruth-scan-id-fileset-id-file-id">/pcGroundTruth/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;<a class="headerlink" href="#pcgroundtruth-scan-id-fileset-id-file-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/pcGroundTruth/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.PointCloudGroundTruth</span></code></span></a></p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">size</span></code> in {<code class="docutils literal notranslate"><span class="pre">orig</span></code>, <code class="docutils literal notranslate"><span class="pre">preview</span></code>} or a <code class="docutils literal notranslate"><span class="pre">float</span></code> to control the voxel-size of the pointcloud to returns.</p></li>
<li><p>Returns: The ground-truth pointcloud file, original size by default.</p></li>
</ul>
</section>
<section id="mesh-scan-id-fileset-id-file-id">
<h3 id="mesh-scan-id-fileset-id-file-id">/mesh/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;<a class="headerlink" href="#mesh-scan-id-fileset-id-file-id" title="Permalink to this headline">¶</a></h3>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/mesh/&lt;scan_id&gt;/&lt;fileset_id&gt;/&lt;file_id&gt;</span></code> URLs:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.Mesh</span></code></span></a></p></li>
<li><p>Arguments: <code class="docutils literal notranslate"><span class="pre">size</span></code> in {<code class="docutils literal notranslate"><span class="pre">orig</span></code>}, no control of the size of the mesh to returns.</p></li>
<li><p>Returns: The mesh file, original size by default.</p></li>
<li><p>Examples with the <code class="docutils literal notranslate"><span class="pre">real_plant_analyzed</span></code> dataset:</p>
<ul>
<li><p>Get the original mesh:
<a class="reference external" href="http://127.0.0.1:5000/mesh/real_plant_analyzed/TriangleMesh_9_most_connected_t_open3d_00e095c359/TriangleMesh">http://127.0.0.1:5000/mesh/real_plant_analyzed/TriangleMesh_9_most_connected_t_open3d_00e095c359/TriangleMesh</a></p></li>
</ul>
</li>
</ul>
</section>
<section id="refresh">
<h3 id="refresh">/refresh<a class="headerlink" href="#refresh" title="Permalink to this headline">¶</a></h3>
<p>Refresh the list of scans in the <code class="docutils literal notranslate"><span class="pre">plantdb.fsdb.FSDB</span></code> database.</p>
<p>Here are the specifications for the <code class="docutils literal notranslate"><span class="pre">/refresh</span></code> URL:</p>
<ul class="simple">
<li><p>Resource: <a class="reference internal" href="reference/rest_api.html#classes"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.Refresh</span></code></span></a></p></li>
<li><p>Arguments: none</p></li>
<li><p>Returns: <code class="docutils literal notranslate"><span class="pre">200</span></code> on completion.</p></li>
<li><p>Example:
<a class="reference external" href="http://127.0.0.1:5000/refresh">http://127.0.0.1:5000/refresh</a></p></li>
</ul>
</section>
</section>
<section id="scan-summary">
<h2 id="scan-summary">Scan summary<a class="headerlink" href="#scan-summary" title="Permalink to this headline">¶</a></h2>
<p>Information about scans dataset, obtained with the ‘/scans’ URL, are grouped in a JSON dictionary.
The template can be accessed here: <a class="reference internal" href="reference/rest_api.html#methods"><span class="std std-doc"><code class="docutils literal notranslate"><span class="pre">plantdb.rest_api.get_scan_template</span></code></span></a></p>
<p>It is organized as follows:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"scan_id"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nt">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"01-01-00 00:00:00"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"species"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"plant"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"environment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"N/A"</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"nbPhotos"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span>
<span class="w">    </span><span class="nt">"files"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nt">"metadatas"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span>
<span class="w">      </span><span class="nt">"archive"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nt">"thumbnailUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasPointCloud"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasMesh"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasSkeleton"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasTreeGraph"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasAngleData"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasAutomatedMeasures"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasManualMeasures"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasSegmentation2D"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasPcdGroundTruth"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasPointCloudEvaluation"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"hasSegmentedPointCloud"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"error"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span>
<span class="w">  </span><span class="p">}</span>
</pre></div>
</div>
<section id="id">
<h3 id="id">id<a class="headerlink" href="#id" title="Permalink to this headline">¶</a></h3>
<p>The name of the corresponding scan dataset.</p>
</section>
<section id="metadata">
<h3 id="metadata">metadata<a class="headerlink" href="#metadata" title="Permalink to this headline">¶</a></h3>
<p>Some metadata gathered from the corresponding scan dataset.</p>
<p>JSON dictionary with fields:</p>
<ul class="simple">
<li><p>“date”: String, example “2019-02-01 13:35:42”</p></li>
<li><p>“plant”: String</p></li>
<li><p>“species”: String</p></li>
<li><p>“nbPhotos”: Number</p></li>
<li><p>“environment”: String</p></li>
<li><p>“files”: Object</p>
<ul>
<li><p>“files.metadatas”: String, URL, example “/files/<scanid>/metadata/metadata.json”</scanid></p></li>
<li><p>“files.archive”: String, URL, example “/files/<scanid>/Visualization/scan.zip”</scanid></p></li>
</ul>
</li>
</ul>
</section>
<section id="thumbnailuri">
<h3 id="thumbnailuri">thumbnailUri<a class="headerlink" href="#thumbnailuri" title="Permalink to this headline">¶</a></h3>
<p>A path to the thumbnail image to use as “preview” to represent the dataset in the webapp.</p>
<ul class="simple">
<li><p>thumbnailUri: example “/files/<scanid>/Visualization/thumbnail_pict20190201_134037_0.jpg”</scanid></p></li>
</ul>
</section>
<section id="has">
<h3 id="has">has*<a class="headerlink" href="#has" title="Permalink to this headline">¶</a></h3>
<p>All of the <code class="docutils literal notranslate"><span class="pre">has*</span></code> entries indicate if there is an output for a list of selected tasks:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">hasPointCloud</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">PointCloud</span></code> has a <code class="docutils literal notranslate"><span class="pre">PointCloud.ply</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasMesh</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">TriangleMesh</span></code> has a <code class="docutils literal notranslate"><span class="pre">TriangleMesh.ply</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSkeleton</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">CurveSkeleton</span></code> has a <code class="docutils literal notranslate"><span class="pre">CurveSkeleton.json</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasAngleData</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">AngleAndInternodes</span></code> has a <code class="docutils literal notranslate"><span class="pre">AnglesAndInternodes.json</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasAutomatedMeasures</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">AutomatedMeasures</span></code> has a <code class="docutils literal notranslate"><span class="pre">AnglesAndInternodes</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSegmentation2D</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">Segmentation2D</span></code> has a `` file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSegmentedPcdEvaluation</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">Segmentation2DEvaluation</span></code> has a `` file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasPointCloudEvaluation</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">PointCloudEvaluation</span></code> has a `` file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSegmentedPointCloud</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">SegmentedPointCloud</span></code> has a <code class="docutils literal notranslate"><span class="pre">SegmentedPointCloud.ply</span></code> file</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasPcdGroundTruth</span></code>: output of the task <code class="docutils literal notranslate"><span class="pre">PointCloudGroundTruth</span></code> has a <code class="docutils literal notranslate"><span class="pre">PointCloudGroundTruth.ply</span></code> file</p></li>
</ul>
<p>Finally, <code class="docutils literal notranslate"><span class="pre">hasManualMeasures</span></code> refers to the presence of a JSON file with manual measurements saved as <code class="docutils literal notranslate"><span class="pre">measures.json</span></code>.
This file should be present at the scan dataset root directory.</p>
</section>
</section>
<section id="scan-detailed-summary">
<h2 id="scan-detailed-summary">Scan detailed summary<a class="headerlink" href="#scan-detailed-summary" title="Permalink to this headline">¶</a></h2>
<p>Information about a specific scan dataset, obtained with the ‘/scans/&lt;scan_id&gt;’ URL, are grouped in a JSON dictionary.</p>
<p>It has the same information as those gathered with the ‘/scans’ URL, but also add:</p>
<ul class="simple">
<li><p>the <strong>files URI</strong> when the following <code class="docutils literal notranslate"><span class="pre">has*</span></code> entries are <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">hasPointCloud</span></code>, under <code class="docutils literal notranslate"><span class="pre">"filesUri"/"pointCloud"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasMesh</span></code>, under <code class="docutils literal notranslate"><span class="pre">"filesUri"/"mesh"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSkeleton</span></code>, under <code class="docutils literal notranslate"><span class="pre">"filesUri"/"skeleton"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasTreeGraph</span></code>, under <code class="docutils literal notranslate"><span class="pre">"filesUri"/"tree"</span></code></p></li>
</ul>
</li>
<li><p>the <strong>files data</strong> when the following <code class="docutils literal notranslate"><span class="pre">has*</span></code> entries are <code class="docutils literal notranslate"><span class="pre">True</span></code>:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">hasSkeleton</span></code>, under <code class="docutils literal notranslate"><span class="pre">"data"/"skeleton"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasAngleData</span></code>, under:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">"data"/"angles"/"angles"</span></code> for the angle values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"data"/"angles"/"internodes"</span></code> for the internodes values</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">hasManualMeasures</span></code>, under:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">"data"/"angles"/"measured_angles"</span></code> for the angle values</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"data"/"angles"/"measured_internodes"</span></code> for the internodes values</p></li>
</ul>
</li>
</ul>
</li>
<li><p>the <strong>reconstruction bounding-box</strong> (formerly known as ‘workspace’) under <code class="docutils literal notranslate"><span class="pre">"workspace"</span></code>, for example <code class="docutils literal notranslate"><span class="pre">"{"x":</span> <span class="pre">[340,</span> <span class="pre">440],</span> <span class="pre">"y":</span> <span class="pre">[330,</span> <span class="pre">410],</span> <span class="pre">"z":</span> <span class="pre">[-180,</span> <span class="pre">105]}"</span></code></p></li>
<li><p>the <strong>camera model</strong> and its <strong>intrinsics parameters</strong> under <code class="docutils literal notranslate"><span class="pre">"camera"/"model"</span></code>, see <a class="reference internal" href="#camera-model"><span class="std std-doc">here</span></a> for more details</p></li>
<li><p>the list of <strong>camera poses</strong>, a.k.a. <strong>extrinsic parameters</strong>, under <code class="docutils literal notranslate"><span class="pre">"camera"/"poses"</span></code>, see <a class="reference internal" href="#camera-poses"><span class="std std-doc">here</span></a> for more details</p></li>
</ul>
<section id="camera-model">
<h3 id="camera-model">Camera model<a class="headerlink" href="#camera-model" title="Permalink to this headline">¶</a></h3>
<p>The details about the camera poses accessible under <code class="docutils literal notranslate"><span class="pre">"camera"/"model"</span></code> are:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">id</span></code>: the id of the camera model, should always be <code class="docutils literal notranslate"><span class="pre">1</span></code> if we use a single camera</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">model</span></code>: the name of the camera model, should always be ‘OPENCV’ as this is how we save it</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">width</span></code>: the width of the images</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">height</span></code>: the height of the images</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">params</span></code>: the ‘OPENCV’ intrinsic camera parameters, that is <code class="docutils literal notranslate"><span class="pre">fx</span></code>, <code class="docutils literal notranslate"><span class="pre">fy</span></code>, <code class="docutils literal notranslate"><span class="pre">cx</span></code>, <code class="docutils literal notranslate"><span class="pre">cy</span></code>, <code class="docutils literal notranslate"><span class="pre">k1</span></code>, <code class="docutils literal notranslate"><span class="pre">k2</span></code>, <code class="docutils literal notranslate"><span class="pre">p1</span></code>, <code class="docutils literal notranslate"><span class="pre">p2</span></code>.</p></li>
</ul>
<p>For example with the first image:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"model"</span><span class="p">:</span><span class="w"> </span><span class="s2">"OPENCV"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"width"</span><span class="p">:</span><span class="w"> </span><span class="mi">1440</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"height"</span><span class="p">:</span><span class="w"> </span><span class="mi">1080</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"params"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">1166.9518889440105</span><span class="p">,</span><span class="w"> </span><span class="mf">1166.9518889440105</span><span class="p">,</span><span class="w"> </span><span class="mi">720</span><span class="p">,</span><span class="w"> </span><span class="mi">540</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0013571157486977348</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0013571157486977348</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
<section id="camera-poses">
<h3 id="camera-poses">Camera poses<a class="headerlink" href="#camera-poses" title="Permalink to this headline">¶</a></h3>
<p>The details about the camera poses accessible under <code class="docutils literal notranslate"><span class="pre">"camera"/"poses"</span></code> are:</p>
<ul class="simple">
<li><p>“id”: index of the picture (starts at 1 by COLMAP convention)</p></li>
<li><p>“rotmat”: Rotation matrix, 3x3 array</p></li>
<li><p>“tvec”: Translation vector, 3x1 array</p></li>
<li><p>“thumbnailUri”: URI to the thumbnail image, example “/images/<scanid>/images/&lt;image_id&gt;?size=thumb.jpg”</scanid></p></li>
<li><p>“photoUri”: URI to the original image, example “/images/<scanid>/images/&lt;image_id&gt;?size=orig.jpg”</scanid></p></li>
</ul>
<p>For example with the first image:</p>
<div class="highlight-json notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
<span class="w">  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"tvec"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="mf">369.4279687732083</span><span class="p">,</span><span class="w"> </span><span class="mf">120.36109311437637</span><span class="p">,</span><span class="w"> </span><span class="mf">-62.07043190848918</span><span class="p">],</span>
<span class="w">  </span><span class="nt">"rotmat"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.06475585405884698</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.9971710205080586</span><span class="p">,</span><span class="w"> </span><span class="mf">0.038165890845442085</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">-0.3390191175518756</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.0579549181538338</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.9389926865509284</span><span class="p">],</span>
<span class="w">    </span><span class="p">[</span><span class="mf">0.9385481965778085</span><span class="p">,</span><span class="w"> </span><span class="mf">0.04786630673761355</span><span class="p">,</span><span class="w"> </span><span class="mf">-0.34181295964290737</span><span class="p">]</span>
<span class="w">  </span><span class="p">],</span>
<span class="w">  </span><span class="nt">"photoUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/tmp/ROMI_DB/real_plant_analyzed/images/00000_rgb.jpg"</span><span class="p">,</span>
<span class="w">  </span><span class="nt">"thumbnailUri"</span><span class="p">:</span><span class="w"> </span><span class="s2">"/tmp/ROMI_DB/real_plant_analyzed/webcache/6fbae08f195837c511af7c2864d075dd5cd153bc.jpeg"</span><span class="p">,</span><span class="w"> </span>
<span class="w">  </span><span class="nt">"isMatched"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
</section>


          </article>
        </div>
      </div>
    </main>
  </div>
  <footer class="md-footer">
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
          
            <a href="reference/autosummary/plantdb.rest_api.Mesh.html" title="plantdb.rest_api.Mesh"
               class="md-flex md-footer-nav__link md-footer-nav__link--prev"
               rel="prev">
              <div class="md-flex__cell md-flex__cell--shrink">
                <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
              </div>
              <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
                <span class="md-flex__ellipsis">
                  <span
                      class="md-footer-nav__direction"> "Previous" </span> plantdb.rest_api.Mesh </span>
              </div>
            </a>
          
          
        </a>
        
      </nav>
    </div>
    <div class="md-footer-meta md-typeset">
      <div class="md-footer-meta__inner md-grid">
        <div class="md-footer-copyright">
          <div class="md-footer-copyright__highlight">
              &#169; Copyright 2022, Robotics for Microfarms.
              
          </div>
            Created using
            <a href="http://www.sphinx-doc.org/">Sphinx</a> 4.5.0.
             and
            <a href="https://github.com/bashtage/sphinx-material/">Material for
              Sphinx</a>
        </div>
      </div>
    </div>
  </footer>
  <script src="_static/javascripts/application.js"></script>
  <script>app.initialize({version: "1.0.4", url: {base: ".."}})</script>
  </body>
</html>